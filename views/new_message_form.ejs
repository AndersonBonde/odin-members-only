<!DOCTYPE html>
<html>
  <head>
    <title><%= data.title %></title>
    <link rel='stylesheet' href='/stylesheets/form.css' />
  </head>
  <body>
    <div class="container">
      <h1><%= data.title %></h1>
      <form action="/new_message" method="post">
        <div class="form_item">
          <label for="title">Title</label>
          <input type="text" name="title" id="title" value="<%= !data.message || undefined === data.message.title ? '' : data.message.title %>" required>
        </div>
        <div class="form_item">
          <label for="message">Message</label>
          <textarea name="message" id="message" cols="30" rows="4"required><%= !data.message || undefined === data.message.text ? '' : data.message.text %></textarea>
        </div>
        <button type="submit">Send</button>
      </form>

      <% if (data.errors) { %>
        <ul style="margin-top: 2rem; list-style: none;">
          <% data.errors.forEach((error) => { %>
            <li style="background-color: tomato; margin-bottom: 4px;"><%= error.msg %></li>
          <% }) %>
        </ul>
      <% } %>
    </div>
  </body>
</html>
